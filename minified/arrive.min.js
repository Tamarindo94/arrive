/*
 * arrive.js
 * v2.5.2
 * https://github.com/uzairfarooq/arrive
 * MIT licensed
 *
 * Copyright (c) 2014-2024 Uzair Farooq
 */

var Arrive=function(e,t,n){"use strict";if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var r,o,i=0,l=(r=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(e,t){return e instanceof HTMLElement&&r.call(e,t)},addMethod:function(e,t,n){var r=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof r?r.apply(this,arguments):void 0}},callCallbacks:function(e,t,n){if(e.length){t&&(t.options.once||t.options.onceOnly)&&(e=[e[0]],t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback));for(var r,o=0;r=e[o];o++)r&&r.callback&&r.callback.call(r.elem,r.elem);t&&t.callback&&n&&n.addTimeoutHandler(t.target,t.selector,t.callback,t.options,t.data)}},checkChildNodesRecursively:function(e,t,n,r){for(var o,i=0;o=e[i];i++)n(o,t,r)&&r.push({callback:t.callback,elem:o}),o.childNodes.length>0&&l.checkChildNodesRecursively(o.childNodes,t,n,r)},mergeArrays:function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},toElementsArray:function(t){return void 0!==t&&("number"!=typeof t.length||t===e)&&(t=[t]),t}}),c=((o=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null}).prototype.addEvent=function(e,t,n,r,o){var i={target:e,selector:t,options:n,callback:r,data:o,firedElems:[]};return this._beforeAdding&&this._beforeAdding(i),this._eventsBucket.push(i),i},o.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t),t.data&&t.data.timeoutId&&clearTimeout(t.data.timeoutId);var r=this._eventsBucket.splice(n,1);r&&r.length&&(r[0].callback=null)}},o.prototype.beforeAdding=function(e){this._beforeAdding=e},o.prototype.beforeRemoving=function(e){this._beforeRemoving=e},o),a=function(t,r){var o=new c,i=this,a={fireOnAttributesModification:!1,foam:!1};return o.beforeAdding(function(n){var o,l=n.target;(l===e.document||l===e)&&(l=document.getElementsByTagName("html")[0]),o=new MutationObserver(function(e){r.call(this,e,n)});var c=t(n.options);o.observe(l,c),n.observer=o,n.me=i}),o.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,n){t=l.mergeArrays(a,t);for(var r=l.toElementsArray(this),c=0;c<r.length;c++){let u={};i.addTimeoutHandler(r[c],e,n,t,u),o.addEvent(r[c],e,t,n,u)}},this.unbindEvent=function(){var e=l.toElementsArray(this);o.removeEvent(function(t){for(var r=0;r<e.length;r++)if(this===n||t.target===e[r])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(e){var t,r=l.toElementsArray(this),i=e;t="function"==typeof e?function(e){for(var t=0;t<r.length;t++)if((this===n||e.target===r[t])&&e.callback===i)return!0;return!1}:function(t){for(var o=0;o<r.length;o++)if((this===n||t.target===r[o])&&t.selector===e)return!0;return!1},o.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var r=l.toElementsArray(this);o.removeEvent(function(o){for(var i=0;i<r.length;i++)if((this===n||o.target===r[i])&&o.selector===e&&o.callback===t)return!0;return!1})},this.addTimeoutHandler=function(e,t,n,r,o){r.timeout&&!(r.timeout<=0)&&(o.timeoutId&&clearTimeout(o.timeoutId),o.timeoutId=setTimeout(()=>{i.unbindEventWithSelectorAndCallback.call(e,t,n),r.fireOnTimeout&&n.call(null,null)},r.timeout))},this},u=function(){var e={onceOnly:!1,once:!1,timeout:0,fireOnTimeout:!1};function t(e,t){return l.matchesSelector(e,t.selector)}var r=(f=new a(function e(){return{childList:!0,subtree:!0}},function e(n,r){n.forEach(function(e){var n=e.removedNodes,o=[];null!==n&&n.length>0&&l.checkChildNodesRecursively(n,r,t,o),l.callCallbacks(o,r,f)})})).bindEvent;return f.bindEvent=function(t,o,i){var c="object"==typeof o?l.mergeArrays(e,o):{...e},a="function"==typeof i?i:"function"==typeof o?o:n;if(a)r.call(this,t,c,a);else{c.once=c.onceOnly=!0;var u=this;return new Promise(e=>r.call(u,t,c,e))}},f},s=new function(){var e={fireOnAttributesModification:!1,foam:!1,onceOnly:!1,once:!1,existing:!1,timeout:0,fireOnTimeout:!1};function t(e,t,r){return!!l.matchesSelector(e,t.selector)&&(n===e._id&&(e._id=i++),-1==t.firedElems.indexOf(e._id))&&(t.firedElems.push(e._id),!0)}var r=(s=new a(function e(t){var n={attributes:!1,childList:!0,subtree:!0};return(t.foam||t.fireOnAttributesModification)&&(n.attributes=!0),n},function e(n,r){n.forEach(function(e){var n=e.addedNodes,o=e.target,i=[];null!==n&&n.length>0?l.checkChildNodesRecursively(n,r,t,i):"attributes"===e.type&&t(o,r,i)&&i.push({callback:r.callback,elem:o}),l.callCallbacks(i,r,s)})})).bindEvent;return s.bindEvent=function(t,o,i){var c="object"==typeof o?l.mergeArrays(e,o):{...e},a="function"==typeof i?i:"function"==typeof o?o:n,u=l.toElementsArray(this);if(a||(c.once=c.onceOnly=!0),c.existing){for(var s=[],f=0;f<u.length;f++)for(var d=u[f].querySelectorAll(t),h=0;h<d.length;h++)s.push({callback:a,elem:d[h]});if((c.once||c.onceOnly)&&s.length)return a?a.call(s[0].elem,s[0].elem):Promise.resolve(s[0].elem);setTimeout(l.callCallbacks,1,s)}if(a)r.call(this,t,c,a);else{var v=this;return new Promise(e=>r.call(v,t,c,e))}},s},f=new u;t&&v(t.fn),v(HTMLElement.prototype),v(NodeList.prototype),v(HTMLCollection.prototype),v(HTMLDocument.prototype),v(Window.prototype);var d={};return h(s,d,"unbindAllArrive"),h(f,d,"unbindAllLeave"),d}function h(e,t,n){l.addMethod(t,n,e.unbindEvent),l.addMethod(t,n,e.unbindEventWithSelectorOrCallback),l.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function v(e){e.arrive=s.bindEvent,h(s,e,"unbindArrive"),e.leave=f.bindEvent,h(f,e,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);
